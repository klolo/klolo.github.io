
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Intellij live templates - szybsze programowanie - Łódzki programista</title>
  <meta name="author" content="Kamil Lolo">

  
  <meta name="description" content="Niezależnie od tego czy programujesz metodą Copiego i Pejsty, czy też wstukujesz kod niczym sekretarka pisząca notatkę ze spotkania szefa, czasem &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://klolo.github.io/blog/2017/08/15/intellij-live-templates-szybsze-programowanie">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="" rel="alternate" title="Łódzki programista" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>

  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono&display=swap" rel="stylesheet">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>
  
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-104079933-1', 'auto');
    ga('send', 'pageview');
</script>

</head>

<body   class="collapse-sidebar sidebar-footer" >
  <header style="text-align: center" role="banner"><img src="/images/logo.png" />
</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss email">
  <script type='text/javascript' src='https://ko-fi.com/widgets/widget_2.js'></script>
  <script type='text/javascript'>kofiwidget2.init('Buy me a coffee', '#25baf1', 'A187461B');kofiwidget2.draw();</script>
</ul>
  
<ul class="main-navigation">
  <li><a href="/">Programowanie</a></li>
  <li><a href="/lodz">Łódź</a></li>
  <li><a href="/blog/archives">Archiwum</a></li>
  <li><a href="/about">O mnie</a></li>
</ul>
</nav>
  <div id="main">
    <div id="content">
      <progress value="0" id="progressBar">
  <div class="progress-container">
    <span class="progress-bar"></span>
  </div>
</progress>

<div>
<article class="hentry" role="article">
  
  <header>
  
    
      <h1 class="entry-title">Intellij live templates - szybsze programowanie</h1>
    
  
    
      <p class="meta">
        




<time class='entry-date' datetime='2017-08-15T17:01:03+02:00'><span class='date'><span class='date-month'>Aug</span> <span class='date-day'>15</span><span class='date-suffix'>th</span>, <span class='date-year'>2017</span></span> <span class='time'>5:01 pm</span></time>
        
        
      </p>
    
  </header>


<div class="entry-content"><p>Niezależnie od tego czy programujesz metodą Copiego i Pejsty, czy też wstukujesz kod niczym sekretarka pisząca notatkę ze spotkania szefa, czasem możesz odnieść wrażenie,
że zaczynasz od identycznego fragmentu kodu. Ile razu w życiu na początku było <code>System.out.println</code> lub <code>public static void main(final String[] args)</code>? O ile nie jesteś programistą
utrzymującym przy życiu produkcyjnego dinozaura, to pewnie zdarzyło Ci się kilka razy. Intellij może ułatwić Twoje życie.</p>

<!--more-->


<p>Pisząc kod zgodnie z regułami TDD, zaczynamy każdą implementację od napisania testu. Po otwarciu klasy z testami tworzymy zatem pusty test jednostkowy, który za chwilę zapełni się kodem.
Pusty test jednostkowy zazwyczaj wygląda podobnie jak setki innych w projekcie - u góry adnotacje &ldquo;test&rdquo;, jakaś metoda <code>public void</code> z odpowiednią nazwą, w środku metody podział
na sekcje give/when/then (o ile oczywiście taką mamy konwencję), no i jakaś assercja.</p>

<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">shouldDoSomething</span><span class="o">()</span> <span class="o">{</span>
    <span class="c1">// given</span>

    <span class="c1">// when</span>

    <span class="c1">// then</span>
    <span class="n">Assert</span><span class="o">.</span><span class="na">assertTrue</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
<span class="o">}</span></code></pre></div>


<p>Za każdym razem wpisuję taką funkcję ręcznie. Czy to naprawdę konieczne? Czy trzeba kopiować istniejący test i dopiero czyścić go z tego, czego nie potrzebuje? Otóż nie!
Intellij oferuje bardzo wygodne narzędzie o nazwie &ldquo;Live template&rdquo;, dzięki któremu można tworzyć szablony kodu, które będą dostępne po wpisaniu odpowiedniego aliasu.</p>

<h2>Wbudowane szablony</h2>

<p>Jakie wbudowane szablony są do dyspozycji oraz jak z nich korzystać? Każdy szablon ma swój alias, po wpisaniu którego
w menu automatycznego wypełniania pojawia się szablon o podanej nazwie. Po wybraniu szablonu, w miejscu, w którym znajduje się kursor pojawi się wybrany szablon. Jednym z wbudowanych szablonów
jest <em>sout</em>, który wstawia instrukcję wypisania na konsoli: <em>System.out.println</em>.</p>

<p><img src="/images/sout.png" alt="GitHub Logo" /></p>

<p>Innymi dostępnymi domyślnie szablonami dla Javy są:</p>

<ul>
<li><code>psvm</code> - wstawia pustą metodę main.</li>
<li><code>geti</code>- tworzy metodę do pobierania instancji singletona getInstance</li>
<li><code>ifn</code> - warunek sprawdzający czy zmienna nie nullem, przeciwieństwo <code>inn</code></li>
<li><code>inst</code> - warunek sprawdzający czy zmienna jest instancją klasy za pomocą instanceof</li>
<li><code>lazy</code> - sprawdza czy zmienna jest nullem i jeżeli jest to tworzy jej instancję.</li>
<li><code>lst</code> - wyciąga ostatni element tablicy</li>
<li><code>mn</code> - wywołuję funkcję <em>Math.min</em>, przeciwieństwo <code>mx</code></li>
<li><code>toar</code> - zamienia kolekcję na tablicę</li>
<li><code>prsf</code> - <em>private static final</em></li>
<li><code>psf</code> - <em>public static final</em></li>
<li><code>psfi</code> - <em>public static final int</em></li>
<li><code>psfs</code> - <em>public static final String</em></li>
<li><code>St</code> - <em>String</em></li>
<li><code>thr</code> - <em>throw new</em></li>
</ul>


<p>Oczywiście każdy szablon związany jest również z miejscem, w którym może występować. Przykładowo dla Javy do wyboru możliwe jest kilka zakresów:</p>

<ul>
<li>Statement</li>
<li>Expression</li>
<li>Declaration</li>
<li>Comment</li>
<li>String</li>
<li>Smart type completion</li>
<li>Other</li>
</ul>


<p>  Intellij na podstawie fragmentu kodu, w którym aktualnie znajduje się kursom określi z jakiego zakresu zaproponować szablony. Zakresy różnią się w zależności
  od języka oraz od frameworka, w którym chcemy wykorzystać szablon.</p>

<h2>Surround templates</h2>

<p>Oprócz szablonów wstawianych w danym miejscu kodu, mamy do dyspozycji szablony otaczające kod. Szablony takie działają na zasadzie otaczania zaznaczonego kodu jakimś predefiniowanym szablonem, przykładowo
blokiem synchronized. Z takiego szablonu można skorzystać po zaznaczeniu fragmentu kodu i wybraniu skrótu klawiszowego
<em>Ctrl-Alt-J</em> oraz <em>Ctrl-Alt-T</em>, który wyświetli również kilka przydatnych szablonów wbudowanych w IDE, takie jak np. otoczenie kodu w blok try-catch.</p>

<p><img src="/images/templatesMenu.png" alt="GitHub Logo" /></p>

<h2>Tworzenie własnych szablonów</h2>

<p>Szablon można utworzyć wchodząc w ustawieniach IDE w zakładkę Live templates i wybierając przycisk plusika z prawej strony. Jest tam również opcja dodania grupy szablonów, w przypadku kiedy chcemy
je w jakiś logiczny sposób zgrupować. Podczas tworzenia szablonu należy podać jego alias, poprzez który będziemy się do niego odwoływać, opis, kod szablonu oraz kontekst, w którym ma być dostępny. Proste, prawda?
Nie do końca jeżeli spojrzy się na przykłady wbudowanych w Intellij szablonów. Występują tam różnego rodzaju zmienne, dzięki którym kod nie jest tylko wpisanym na sztywno tekstem, ale faktycznie
szablonem na podstawie, którego utworzy się fragment przydatnego kodu. Oprócz zmiennych, mamy nawet dostęp do kilku predefiniowanych funkcji, które można wywoływać w szablonie. Lista zmiennych i metod
dostępnych w Live templates różni się w zależności od zainstalowanych pluginów. Te najbardziej podstawowe to:</p>

<ul>
<li>$END$ - określa miejsce, w którym ma znaleźć się kursor po wstawieniu szablonu</li>
<li>$SELECTION$ - w przypadku szablonu otaczającego kodu zmienna zawiera zaznaczony przez użytkownika tekst.</li>
</ul>


<p>Mamy również do dyspozycji funkcje, które pozwolą jeszcze bardziej rozbudować szablon. Kilka, według mnie, najbardziej przydatnych:</p>

<ul>
<li><code>camelCase(String)</code> - zwraca podany tekst jako camel case.</li>
<li><code>methodName()</code> - nazwa metody, w której się znajdujemy</li>
<li><code>date(sDate)</code> - zwraca datę w podanym formacie</li>
<li><code>currentPackage()</code> - aktualny pakiet</li>
</ul>


<p>Funkcji nie możemy jednak wywoływać bezpośrednio w szablonie. W szablonie odwołujemy się do zmiennych, które przechowują wartość wywołań funkcji. Zmienne mogą mieć dowolną nazwę, jednak trzeba im
później przypisać wywołanie funkcji w okienku dostępnym po wybraniu <em>Edit variables</em>. Przykład szablonu tworzącego zmienną przechowującą nazwę funkcji oraz logującego jakiś komunikat do logów. Komunikat
ten można podać po wstawieniu loggera, z powodu zmiennej <em>$END$</em>.</p>

<p><img src="/images/newLiveTemplate.png" alt="GitHub Logo" /></p>

<h2>Podsumowanie</h2>

<p>Kod można pisać w bardzo szybki sposób, nie korzystając przy tym z kopiowania i wklejania. Myślę, że jest to podejście, które sprawi, że kod będzie miał mniej błędów. Ile razy zdarzyło Ci
się przenieść jakiś fragment kodu z innego miejsca systemu i naciąć się na to, że nie działa? A wystarczyłoby napisać go ręcznie i wyłapać błędy. Dbajmy o to, aby nasza praca była wydajniejsza
i lepsza. Tak na marginesie, Eclipse również udostępnia podobną opcję, nazywa się to Templates, jednak nie potrafię określić na ile różni się to z Live Templates dostępnymi w Intellij. Oprócz Live templates Intellij posiada również
mechanizm szablonów kodu, który w menu znajdziecie jako File and code templates. Szablony te są dostępne w menu pojawiającym się po wciśnięciu alt+insert. Jest tam nawet pusty szablon metody testowej JUnit ;)</p>

<p>Wszystkie informacje na temat Live templates znajdziecie <a href="https://www.jetbrains.com/help/idea/live-templates.html">tutaj</a></p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Kamil Lolo</span></span>

      




<time class='entry-date' datetime='2017-08-15T17:01:03+02:00'><span class='date'><span class='date-month'>Aug</span> <span class='date-day'>15</span><span class='date-suffix'>th</span>, <span class='date-year'>2017</span></span> <span class='time'>5:01 pm</span></time>
    </p>
    <p class="meta">
      Kategoria: 

<span class="categories">
  
    <a class='category' href='/blog/categories/java/'>java</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://klolo.github.io/blog/2017/08/15/intellij-live-templates-szybsze-programowanie/" data-via="" data-counturl="http://klolo.github.io/blog/2017/08/15/intellij-live-templates-szybsze-programowanie/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2017/08/09/stream-reduce-vs-collect/" title="Previous Post: Java stream reduce vs collect">&laquo; Java stream reduce vs collect</a>
      
      
        <a class="basic-alignment right" href="/blog/2017/08/28/typescript-wprowadzenie-czesc-1/" title="Next Post: Typescript wprowadzenie - część 1">Typescript wprowadzenie - część 1 &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2021/03/07/spring-boot-wystawianie-endpointow-na-wielu-portach/">[spring boot] Wystawianie endpointów na wielu portach</a>
      </li>
    
      <li class="post">
        <a href="/blog/2021/03/07/java-zwiezle-deklarowanie-beanow/">Java: zwięzłe deklarowanie beanów</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/02/18/dependency-injection-w-js/">Dependency injection w js</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/12/17/w-oczekiwaniu-na-jave-10/">W oczekiwaniu na Java 10</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/10/28/dlugie-metody-w-kodzie-udany-przepis-na-bledy/">Długie metody w kodzie – udany przepis na błędy</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/10/17/dlaczego-obiekty-niezmienne-w-projekcie-to-blogoslawienstwo-i-o-tym-jak-nie-pisac-testow/">Dlaczego obiekty niezmienne w projekcie to błogosławieństwo i o tym jak nie pisać testów</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/10/14/pierwsze-spotkanie-z-react/">Pierwsze spotkanie z React</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/09/17/typescript-wprowadzenie-czesc-2/">Typescript wprowadzenie - część 2</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/09/03/zaimplementuj-dependency-injection-w-typescript/">Zaimplementuj dependency injection w Typescript</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/08/28/java-stream-api-darmowy-kurs/">Java stream API - darmowy kurs</a>
      </li>
    
  </ul>
</section>

<section>
  <h2>  
    <a href="https://github.com/klolo">@klolo</a> on GitHub
    
  </h2>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>

  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'klolo',
            count: 3,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>


<!-- Pasek postepu podczas czytania -->
<script>
    $(document).ready(function(){
        var getMax = function(){
            return $(document).height() - $(window).height();
        }

        var getValue = function(){
            return $(window).scrollTop();
        }

        if('max' in document.createElement('progress')){
            // Browser supports progress element
            var progressBar = $('progress');

            // Set the Max attr for the first time
            progressBar.attr({ max: getMax() });

            $(document).on('scroll', function(){
                // On scroll only Value attr needs to be calculated
                progressBar.attr({ value: getValue() });
            });

            $(window).resize(function(){
                // On resize, both Max/Value attr needs to be calculated
                progressBar.attr({ max: getMax(), value: getValue() });
            });
        }
        else {
            var progressBar = $('.progress-bar'),
                max = getMax(),
                value, width;

            var getWidth = function(){
                // Calculate width in percentage
                value = getValue();
                width = (value/max) * 100;
                width = width + '%';
                return width;
            }

            var setWidth = function(){
                progressBar.css({ width: getWidth() });
            }

            $(document).on('scroll', setWidth);
            $(window).on('resize', function(){
                // Need to reset the Max attr
                max = getMax();
                setWidth();
            });
        }
    });


    $(document).ready(function(){
        $('#flat').addClass("active");
        $('#progressBar').addClass('flat');

        $('#flat').on('click', function(){
            $('#progressBar').removeClass().addClass('flat');
            $('a').removeClass();
            $(this).addClass('active');
            $(this).preventDefault();
        });

        $('#single').on('click', function(){
            $('#progressBar').removeClass().addClass('single');
            $('a').removeClass();
            $(this).addClass('active');
            $(this).preventDefault();
        });

        $('#multiple').on('click', function(){
            $('#progressBar').removeClass().addClass('multiple');
            $('a').removeClass();
            $(this).addClass('active');
            $(this).preventDefault();
        });

        $('#semantic').on('click', function(){
            $('#progressBar').removeClass().addClass('semantic');
            $('a').removeClass();
            $(this).addClass('active');
            $(this).preventDefault();
            alert('hello');
        });
    });
</script>
    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2021 - Kamil Lolo <br/>
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a>, customized with <a href="https://github.com/mjhea0/whiterspace">whiterspace</a>.</span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'klolo-github-io';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://klolo.github.io/blog/2017/08/15/intellij-live-templates-szybsze-programowanie/';
        var disqus_url = 'http://klolo.github.io/blog/2017/08/15/intellij-live-templates-szybsze-programowanie/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
